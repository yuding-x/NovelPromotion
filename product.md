# 小说返现平台产品设计文档

## 产品概览

小说返现平台是一个集小说阅读推广和用户返现激励于一体的平台。用户通过在平台上执行推广任务，可以获得相应的返现。平台提供实时数据更新和收益排行榜，增强用户参与度和动力。

## 基本概念

平台的核心概念包括：

- 用户（User）
- 推广书单（Promotion List）
- 关键词管理（Keyword Management）
- AI视频生成器 (AI Video Generator)
- 追踪链接与回链操作 （Tracking Link & Backlinking）
- 返现（Cashback）

### 用户 User

为了提供个性化的服务和返现管理，用户在小程序中注册和登录，利用微信的授权体系来简化这一流程。

在小程序中，用户首次打开时，平台会请求用户授权，使用其微信账号信息来创建一个新的平台账户。

关键属性如下：

- **OpenID**: 用户的微信唯一标识符，用于识别微信用户在小程序中的身份。
- **UnionID** (如果适用): 如果用户在多个应用中使用相同的微信开放平台账号，那么这些应用都可以获得相同的UnionID，用以跨应用识别用户。
- **昵称(Nickname)**: 用户的微信昵称，可用于在小程序中展示。
- **头像(AvatarUrl)**: 用户的微信头像URL，用于在小程序中展示用户头像。
- **会话密钥(SessionKey)**: 微信提供的会话密钥，用于服务器端校验会话状态。
- **会话令牌(SessionToken)**: 服务端生成的会话令牌，用于在小程序客户端和服务器端维持会话状态。
- **注册时间(RegistrationTime)**: 用户注册平台账户的时间戳。
- **上次登录时间(LastLoginTime)**: 用户最后一次登录的时间戳。
- **账户状态(AccountStatus)**: 表明账户的状态，如激活、封禁等。





### 推广书单 Promotion List

推广书单是平台根据市场趋势和用户行为分析，精选的热门小说列表。这些列表帮助用户选择最有潜力的作品进行推广，从而最大化返现潜力。

用户使用推广书单可以：

- 获取当前最易爆的推广小说推荐列表。
- 了解各个推荐作品的概要信息和潜在返现率。
- 直接从书单中选择作品进行推广。

关键属性如下：

- **ListID**: 书单的唯一标识符。
- **Books**: 包含的推荐小说列表
  - **BookID**: 小说的唯一标识符。
  - **Title**: 小说标题。
  - **Author**: 作者名。
  - **Synopsis**: 小说概要。
  - **Popularity Score**: 小说的推广爆率评分。
  - **Projected Cashback**: 预期的返现金额。
- **LastUpdated**: 书单最后更新时间。
- **Trending Genres**: 书单的小说类别（可选）。



### 关键词管理 Keyword Management

关键词管理是用户作品推广、确认返现的重要工具。用户可以申请、监控和管理与其推广作品相关的关键词。

具体来说，粉丝看了用户发布在抖音、快手、小红书等平台的作品后，想看后续就会问你小说的名字，此时用户把申请好的关键词留在评论区， 粉丝根据提供的关键词找到这篇会员小说，开通会员后，这个会员订单就通过关键词跟用户绑定了，从而获得返现。

用户通过关键词管理可以：

- 申请新的关键词用于推广。
- 查看已申请关键词的状态和效果。

关键属性如下：

- **KeywordID**: 每个关键词的唯一标识符。
- **Keyword**: 关键词的文本表示。
- **Status**: 关键词的当前状态，如“待审核”、“审核通过”或“拒绝”。
- **DateApplied**: 用户申请关键词的日期。
- **DateApproved**: 关键词被批准的日期。



### AI视频生成器 (AI Video Generator) 

AI视频生成器是小程序中的一项功能，它允许用户根据选定的小说内容自动生成视频，以便用于推广。这一功能通过AI技术将文本内容转换成视觉呈现，提高了小说的可视化推广效率和吸引力。

AI视频生成器让平台可以：

- 自动根据给定的小说文本、视频规定时长，生成优化后的视频文本
- 根据视频文本自动生成提示词
- 根据提示词、视频主题，AI生成图片
- 根据AI图片、转场效果，自动拼接成视频并加上文本对应的音轨等音效

关键属性如下：

- **GeneratorID**: 视频生成器的唯一标识符。
- **InputText**: 用户输入或选择的小说文本片段。
- **Theme**: 视频的主题或风格，用户可根据小说内容选择。
- **Length**: 生成视频的长度，可以根据推广平台的要求进行设置。
- **ratio**: 生成视频的比例，如16:9, 4:3等。
- **Resolution**: 视频的分辨率，支持多种格式以适应不同的播放设备和平台。
- **BackgroundMusic**: 视频的背景音乐，用户可从预设列表中选择或上传自己的音乐。
- **TransitionEffects**: 视频中使用的转场效果，提供多种效果供用户选择。
- **OutputURL**: 生成视频的存储位置URL，用户可通过此链接下载或直接分享视频。
- **Status**: 视频生成的状态，如“处理中”、“完成”或“错误”。
- **CreationDate**: 视频请求生成的日期和时间。
- **CompletionDate**: 视频生成完成的日期和时间。

参考：

- https://dreamina.jianying.com/ai-tool/video/generate Dreamina 文本生成视频

- https://mangatv.shop/story/65f6d945fbb877a509f6b9f0 Manga TV 只需提供提示，人工智能将为您生成完整的视频故事。



### 追踪链接与回链操作 Tracking Link & Backlinking

追踪链接在推广活动中充当了回链的角色，它不仅帮助平台监控推广效果，还为用户提供了一种方式来优化和增强他们的推广内容。

追踪链接让平台可以：

- 监控每个推广链接的点击次数和转化情况。
- 确定用户推广任务的完成度和有效性。
- 计算基于推广效果的返现金额。

关键属性如下：

- **BacklinkURL**: 用户在第三方平台（如抖音、微博等）发布推广内容后生成的视频或帖子链接。
- **EngagementMetrics**: 包括点击次数（Clicks）、观看次数、互动数（如点赞、评论）和转化次数（Conversions）。
- **Platform**: 第三方平台名称，如“抖音”、“快手”等，表示用户在哪个平台上进行了推广。
- **PostDate**: 用户发布推广内容的日期。
- **ExpirationDate**: 链接内容的截止回填日期。

// TODO：具体回链返现算法待定



### 返现 Cashback

返现功能使用户能够获得推广活动的金钱奖励。用户的每次有效推广活动都能带来一定的返现，鼓励用户持续参与平台活动。

用户通过返现功能可以：

- 查看通过每次推广活动获得的返现金额。
- 安全地绑定银行账户以提取返现资金。
- 请求提取累积的返现至绑定的银行账户。
- 跟踪返现提取进度和历史记录。

关键属性如下：

- **CashbackID**: 每笔返现的唯一标识符。
- **Amount**: 返现金额。
- **Status**: 返现状态，例如“已获得”、“等待提取”、“已提取”。
- **BankAccount**: 用户绑定的银行账户详细信息。
- **DateEarned**: 获得返现的日期。
- **DateRequested**: 用户请求提取返现的日期。
- **DatePaid**: 返现支付到用户账户的日期。

一些安全性提醒：所有银行信息的传输都需通过加密协议进行；集成安全的支付处理系统来处理用户的银行信息和转账请求；实施多因素认证，确保提取请求的真实性；



## 用户故事

### 用户注册

**作为** 一位新用户， **我希望** 能够通过我的微信账号轻松注册小程序， **以便于** 我可以开始使用小程序提供的服务。

- 用户在小程序上点击注册按钮。
- 小程序请求用户授权以获取其微信信息。
- 用户在微信授权弹窗中确认授权。
- 小程序使用用户的微信信息自动创建一个新账户。
- 用户被通知注册成功，并直接登录到小程序。



### 用户登录

**作为** 一位已注册用户， **我希望** 每次打开小程序时都能自动登录， **以便于** 立即访问我的内容和设置。

- 用户打开小程序。
- 小程序检测到用户的微信登录状态，并自动发送登录请求。
- 小程序后端验证用户的OpenID，并返回用户的个人化信息。
- 用户进入小程序后，可以看到自己的个人资料和定制内容。



### 推广书单浏览

**作为** 一位小说推广者， **我希望** 能够轻松访问并浏览各种推广书单， **以便于** 发现并选择最具吸引力和潜在返现价值的小说进行推广。

- 用户登录后即可访问推广书单页面，并查看各书单和书单内小说的详细信息。
- 系统展示每本小说的流行度分数和预计返现金额，帮助用户做出选择。
- 用户能够根据不同流行的小说类别筛选推广书单。

**我希望** 基于小说的流行度和预计返现金额选择推广作品， **以便于** 优化我的推广效果并最大化潜在收益。

- 用户通过分析小说的`Popularity Score`和`Projected Cashback`，选定特定作品进行推广。
- 用户点击作品旁的“推广”按钮，手动生成关键字。



### 关键词管理

**作为** 一位小说推广者， **我希望** 能够申请推广小说的关键词， **以便于** 进行我的小说推广。

- 用户对一本预推广的小说，输入并提交一个或多个希望用于推广的关键词。
- 系统为每个提交的关键词分配`KeywordID`，并设置状态为“待审核”。
- 平台对提交的关键词进行审核，用户可在平台上实时查看审核状态（`Status`为“审核通过”或“拒绝”）。
- 用户在关键词被审核通过后得到通知，并可开始使用这些关键词进行推广。



### AI视频生成器

**作为** 一位小说推广者， **我希望** 能够将选定的小说文本自动生成为视频， **以便于** 以一种更加生动和吸引人的方式进行推广。

- 用户在AI视频生成器中输入或粘贴小说文本片段。
- 用户选择视频的主题、背景音乐、比例和转场效果。
- 用户点击“生成视频”按钮，提交视频生成请求。
- 用户在“处理中”状态下等待，直至视频生成完成。
- 用户在视频生成完成后，通过提供的`OutputURL`预览、下载或分享视频。

**作为** 一位活跃的社交媒体用户， **我希望** 能够轻松分享或下载生成的视频， **以便于** 在不同的平台上推广小说。

- 视频生成完成后，用户可以通过`OutputURL`直接在社交媒体上**分享**视频。
- 用户也可以选择**下载**视频文件，以便于在其他渠道上使用。
- 视频链接应支持**一键分享**功能，简化分享流程。

**作为** 一位小说推广者， **我希望** 能够**自定义**生成视频的风格和背景音乐， **以便于** 使视频更贴合小说的氛围和我的推广策略。

- 用户在视频生成前，可以从多种**主题风格**中选择一个。
- 用户可以从平台提供的音乐库中选择背景音乐，或上传自己的音乐文件。
- 用户可以为视频选择合适的转场效果，以增强视觉效果。
- 生成的视频应反映用户的风格选择，与输入的小说文本内容相匹配。

- 



### 追踪链接与回链操作 

**作为** 一位小说推广者， **我希望** 在发布推广视频或帖子后获取一个回链， **以便于** 跟踪我的推广效果并根据反馈优化未来的推广策略。

- 用户在第三方平台发布推广内容后，在本平台填写当天对应时间，关键词，发布平台、账号昵称（平台名）、账号ID（平台ID），平台对应作品链接和账号主页链接。
- 平台生成与此回链关联的追踪记录，包括预期监控的`EngagementMetrics`。
- 平台根据追踪到的小说推广效果，发放相应的返现奖励给用户。



### 评论区引导

**作为** 一位小说推广者，**我希望** 能在抖音等社交平台上有效引导我的粉丝使用我提供的关键字进行搜索和评论， **以便于** 实现从推广活动中获得的收益。

- 用户在制作推广视频时，在视频的标题上清晰地告知观众推广作品的关键字。
- 用户在视频描述、评论置顶或视频画面上，提供明确的行动呼吁，引导观众使用这些关键字进行搜索。
- 平台根据用户的关键字引导会员开通效果，计算并发放相应的返现奖励。



### 返现管理

**作为** 一位小说推广者， **我希望** 能够查看我的返现记录，并轻松绑定我的银行账户提取返现， **以便于** 实现从推广活动中获得的收益。

- **返现查看**：

  - 用户在“我的返现”页面查看所有返现记录及状态。
  - 平台显示每笔返现的详细信息，包括金额和获得日期。

- **账户绑定**：

  - 用户在“返现管理”页面选择“绑定银行账户”。
  - 用户输入必要的银行信息，如账户名、账号、开户行等。
  - 平台进行验证，并将银行账户与用户账户绑定。

- **提取请求**：

  - 用户选择“提取返现”，输入提取金额，并选择已绑定的银行账户。
  - 平台处理提取请求，验证返现余额。
  - 平台发起转账到用户绑定的银行账户，并更新`Status`。

- **查看返现进度**：

  - 用户可以查看提取请求的进度，包括预计的转账时间。
  - 用户收到平台的通知确认转账完成。
